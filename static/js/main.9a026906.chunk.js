(this["webpackJsonpreact-memory-game"]=this["webpackJsonpreact-memory-game"]||[]).push([[0],[,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(6),r=n.n(c),s=(n(12),n(2)),o=n(3),u=(n(13),n(0));var m=function(e){var t=e.card,n=e.onClick;return t.isVisible?Object(u.jsx)("article",{className:"card",onClick:function(){n(t)},children:Object(u.jsxs)("div",{className:"card__container".concat(t.isOpen?" card_open":""),children:[Object(u.jsx)("div",{className:"card__front"}),Object(u.jsx)("img",{className:"card__back",src:t.link,alt:t.text})]})}):Object(u.jsx)("article",{className:"card",children:Object(u.jsx)("div",{className:"card__empty"})})};function l(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),i=[t[a],t[n]];t[n]=i[0],t[a]=i[1]}return t}function b(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,t=[],n=1;n<=e;n++)t.push(n);var a=l(t);return l(a.concat(l(a.slice())))}var d=[{link:n.p+"static/media/card-image-01.45ef628e.png",text:"Green Apple"},{link:n.p+"static/media/card-image-02.35a258e2.png",text:"A Raspberry"},{link:n.p+"static/media/card-image-03.9c5f23f5.png",text:"Two Cherries"},{link:n.p+"static/media/card-image-04.4a4fbc39.png",text:"A Strawberry"},{link:n.p+"static/media/card-image-05.54957fb2.png",text:"A Watermelon"},{link:n.p+"static/media/card-image-06.a5a689d7.png",text:"An Apricot"},{link:n.p+"static/media/card-image-07.5a656dad.png",text:"Kiwi"},{link:n.p+"static/media/card-image-08.ccf7bd68.png",text:"Pomegranate"},{link:n.p+"static/media/card-image-09.c3f6772a.png",text:"Green Grapes"},{link:n.p+"static/media/card-image-10.ac650359.png",text:"Bananas"},{link:n.p+"static/media/card-image-11.e32afd60.png",text:"Red Apple"},{link:n.p+"static/media/card-image-12.8ccb386f.png",text:"Oranges"},{link:n.p+"static/media/card-image-13.3f542bc6.png",text:"Two plums"},{link:n.p+"static/media/card-image-14.919afb5b.png",text:"Two blueberries"},{link:n.p+"static/media/card-image-15.7a42cdd4.png",text:"Mango"},{link:n.p+"static/media/card-image-16.16178969.png",text:"Raspberries"},{link:n.p+"static/media/card-image-17.f89ab31f.png",text:"Two Blackberries"},{link:n.p+"static/media/card-image-18.a47de00f.png",text:"Red Grapes"}],f="memory-game-results";n(15);var j=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),i=n[0],c=n[1],r=Object(a.useState)(!1),l=Object(s.a)(r,2),f=l[0],j=l[1],O=Object(a.useState)(0),p=Object(s.a)(O,2),x=p[0],_=p[1],g=Object(a.useState)(0),v=Object(s.a)(g,2),h=v[0],N=v[1],k=Object(a.useRef)(h);k.current=h,Object(a.useEffect)((function(){var e=b(18).map((function(e,t){var n=d[e-1];return{id:t,number:e,link:n.link,text:n.text,isVisible:!0,isOpen:!1}}));c(e)}),[]),Object(a.useEffect)((function(){if(36===x){e.onWin();var t=b(18).map((function(e,t){var n=d[e-1];return{id:t,number:e,link:n.link,text:n.text,isVisible:!0,isOpen:!1}}));c(t)}}),[x]),Object(a.useEffect)((function(){f&&setTimeout((function(){var e=i.filter((function(e){return e.isOpen})),t=[];t=2===e.length&&e[0].number===e[1].number?i.map((function(t){return t.id===e[0].id||t.id===e[1].id?Object(o.a)(Object(o.a)({},t),{},{isOpen:!1,isVisible:!1}):t})):i.map((function(t){return t.id===e[0].id||t.id===e[1].id?Object(o.a)(Object(o.a)({},t),{},{isOpen:!1}):t})),c(t),j(!1)}),1e3)}),[f]),Object(a.useEffect)((function(){var e=i.filter((function(e){return e.isOpen}));N(e.length);var t=i.filter((function(e){return!e.isVisible})).length;_(t)}),[i]),Object(a.useEffect)((function(){var e;1===k.current&&(e=3e3,new Promise((function(t,n){setTimeout((function a(){2===k.current?t():(e-=100)<0?n():setTimeout(a,100)}),100)}))).then((function(){j(!0)})).catch((function(){!function(e){var t=i.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isOpen:!1}):t}));c(t)}(i.filter((function(e){return e.isOpen}))[0].id)}))}),[h]);var S=function(e){if(e.isVisible&&!e.isOpen&&h<2){var t=i.map((function(t){return t.id===e.id?Object(o.a)(Object(o.a)({},t),{},{isOpen:!0}):t}));c(t)}};return Object(u.jsx)("section",{className:"board ".concat(e.isGameOn?"board_enabled":"board_disabled"),children:Object(u.jsx)("div",{className:"board__cards-container",children:function(e){if(e.length>0)return e.map((function(e){return Object(u.jsx)(m,{card:e,onClick:S},e.id)}))}(i)})})},O=n(7),p=(n(16),function(e){var t=e.userClass,n=e.buttonType,a=e.children,i=Object(O.a)(e,["userClass","buttonType","children"]);return Object(u.jsx)("button",Object(o.a)(Object(o.a)({className:"button ".concat(t||""),type:n||"button"},i),{},{children:a||""}))});var x=function(e){return Object(u.jsx)("span",{className:e.className,children:function(e){var t=function(e){return(e<10?"0":"")+e},n=e%60,a=(e-n)/60,i=a%60;return"".concat(t((a-i)/60),":").concat(t(i),":").concat(t(n))}(e.timeCounter)})};n(17);var _=function(e){return Object(u.jsxs)("nav",{className:"controls",children:[Object(u.jsxs)("div",{className:"controls__btn-container",children:[Object(u.jsx)(p,{userClass:"controls__btn controls__btn_start",disabled:e.isGameOn,onClick:function(){e.onStartGame()},title:"Start game"}),Object(u.jsx)(p,{userClass:"controls__btn controls__btn_pause",disabled:!e.isGameOn,onClick:function(){e.onStopGame()},title:"Pause game"}),Object(u.jsx)(p,{userClass:"controls__btn controls__btn_results",disabled:e.isGameOn,onClick:function(){e.onResultsClick()},title:"View results table"})]}),Object(u.jsx)("div",{className:"controls__time-container",children:Object(u.jsx)(x,{className:"controls__time",timeCounter:e.timeCounter})})]})};n(5);var g=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],c=n[1];return Object(u.jsx)("section",{className:"form-container",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.onSubmitName(i,e.result)},children:[Object(u.jsx)("h3",{className:"form__header",children:"Enter your name"}),Object(u.jsxs)("div",{className:"form__fields",children:[Object(u.jsx)("input",{type:"text",id:"input-name",name:"input-name",className:"form__item form__item_name",placeholder:"Name",required:!0,value:i,onChange:function(e){c(e.target.value)}}),Object(u.jsx)("input",{type:"text",id:"input-time",name:"input-time",className:"form__item form__item_time",disabled:!0,value:e.result})]}),Object(u.jsx)(p,{type:"submit",userClass:"form__btn-submit",children:"OK"})]})})};function v(e){var t=e.name,n=e.time;return Object(u.jsxs)("li",{className:"form__list-item",children:[Object(u.jsx)("input",{type:"text",id:"input-name",name:"input-name",className:"form__item form__item_name",disabled:!0,value:t||""}),Object(u.jsx)("input",{type:"text",id:"input-time",name:"input-time",className:"form__item form__item_time",disabled:!0,value:n||""})]})}var h=function(e){var t,n=Object(a.useState)([]),i=Object(s.a)(n,2),c=i[0],r=i[1];return Object(a.useEffect)((function(){if(localStorage.getItem(f)){var e=JSON.parse(localStorage.getItem(f));r(e)}}),[]),Object(u.jsx)("section",{className:"form-container",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.onSubmitResults()},children:[Object(u.jsx)("h3",{className:"form__header",children:"Results"}),(t=c,t.length>0?(t.sort((function(e,t){return e.time-t.time})),Object(u.jsx)("ul",{className:"form__list",children:t.map((function(e,t){return Object(u.jsx)(v,{name:e.name,time:e.time},t)}))})):Object(u.jsx)("p",{className:"form__empty",children:"No results yet"})),Object(u.jsx)(p,{type:"submit",userClass:"form__btn-submit",children:"OK"})]})})};n(18);var N=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),r=Object(s.a)(c,2),o=r[0],m=r[1],l=Object(a.useState)(0),b=Object(s.a)(l,2),d=b[0],O=b[1],p=Object(a.useState)(0),x=Object(s.a)(p,2),v=x[0],N=x[1],k=Object(a.useState)(!1),S=Object(s.a)(k,2),C=S[0],y=S[1],G=Object(a.useState)(!1),w=Object(s.a)(G,2),R=w[0],T=w[1],E=Object(a.useRef)(n),A=Object(a.useRef)(o);return E.current=n,A.current=o,Object(a.useEffect)((function(){var e;n&&(e=1e3,new Promise((function(t,n){var a=Date.now(),i=a+e,c=0;setTimeout((function r(){if(A.current)t(c);else if(E.current){var s=Date.now()-i;s<e&&(c=v+Math.floor((i-a)/1e3),O(c),i+=e,setTimeout(r,Math.max(0,e-s)))}else n(c)}),e)}))).then((function(e){N(0),T(!0)})).catch((function(e){N(e)}))}),[n,o,v]),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)(_,{onStartGame:function(){i(!0),m(!1)},onStopGame:function(){i(!1)},onResultsClick:function(){y(!0)},isGameOn:n,timeCounter:d}),Object(u.jsx)(j,{onWin:function(){i(!1),m(!0)},isGameOn:n}),R&&Object(u.jsx)(g,{onSubmitName:function(e,t){var n=[];localStorage.getItem(f)&&(n=JSON.parse(localStorage.getItem(f))),n.push({name:e,time:t}),localStorage.setItem(f,JSON.stringify(n)),T(!1),O(0)},result:d}),C&&Object(u.jsx)(h,{onSubmitResults:function(){y(!1)}})]})};var k=function(){return Object(u.jsx)(i.a.Fragment,{children:Object(u.jsx)(N,{})})};r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.9a026906.chunk.js.map